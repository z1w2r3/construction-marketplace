# 建筑施工项目初始化

初始化建筑施工文档管理配置,创建项目结构和配置文件。

---

你现在要执行**建筑施工项目初始化**任务。

## 任务目标

在当前项目中初始化建筑施工文档管理配置,创建必要的目录结构和配置文件,为后续的文档分析和管理工作做好准备。

## 执行步骤

### 1. 交互式收集项目信息

**只询问以下两个必需信息,其他信息将自动从文档中提取:**

#### 必需信息

**1. 原文档目录的绝对路径** (必填)
- 提示: "请输入原文档目录的绝对路径(存放施工资料的目录):"
- 说明: 这是存放原始建筑施工文档的目录,插件将只读访问此目录
- 验证: 使用 Bash 工具检查路径是否存在: `ls -la "用户输入的路径"`
- 如果路径不存在,提示错误并重新询问

**2. 项目名称** (可选,建议填写)
- 提示: "请输入项目名称(直接回车将使用当前目录名):"
- 默认值: 使用当前目录的名称
- 示例: "苏州一建518地块智能建造项目"
- **处理**: 如果用户直接回车(输入为空),使用当前目录名

**3. 项目类型** (可选)
- 提示: "请选择项目类型:\n  1 - 通用工程\n  2 - 房屋建筑\n  3 - 市政工程\n请输入数字(1-3,直接回车默认选1):"
- 默认值: 1 (通用工程)
- **处理**: 如果用户直接回车(输入为空),使用默认值 1

**以下信息不再询问,将在配置文件中留空,后续可从文档自动提取:**
- 工程地点
- 建设单位
- 施工单位
- 监理单位

### 2. 创建目录结构

使用 Bash 工具创建以下目录:

```bash
mkdir -p "生成文件/索引"
mkdir -p "生成文件/分析报告"
mkdir -p "生成文件/整理方案"
mkdir -p "生成文件/项目总结"
mkdir -p ".claude"
```

### 3. 生成项目配置文件

使用 Write 工具创建 `.claude/CLAUDE-construction.md` 文件,内容如下:

```markdown
# 建筑施工项目配置

> 本文件由建筑施工文档助手自动生成
> 创建时间: [当前时间,格式: YYYY-MM-DD HH:MM:SS]

## 项目基本信息

- **项目名称**: [用户输入或当前目录名]
- **项目类型**: [通用工程/房屋建筑/市政工程]
- **创建日期**: [当前日期,格式: YYYY-MM-DD]

## 项目详细信息(可后续从文档自动提取)

- **工程地点**: 待提取
- **建设单位**: 待提取
- **施工单位**: 待提取
- **监理单位**: 待提取

> 💡 提示: 运行 `/construction-index` 后,助手可以自动从文档中提取这些信息并更新到此配置文件

## 文档路径配置

### 原文档目录(只读)
```
[用户输入的绝对路径]
```

⚠️ **重要**: 此目录仅供只读访问,所有命令不会修改此目录中的任何文件。

### 生成文件目录
```
./生成文件/
```

所有由助手生成的文件(索引、报告、方案、总结)都将保存在此目录。

## 项目特定信息

### 专业术语
[根据项目类型添加常用术语,例如:]
- 检验批: 建筑施工质量验收的最小单元
- 分部工程: 按工程部位划分的工程单元
- 竣工资料: 工程完工后需要归档的全部技术文档

### 当前工作重点
[可由用户后续更新]

## 配置历史

- [当前时间] - 初始化配置,项目类型: [项目类型]
```

### 4. 生成使用说明文档

使用 Write 工具创建 `建筑施工文档助手使用说明.md` 文件,内容如下:

````markdown
# 建筑施工文档助手 - 使用说明

> 创建时间: [当前时间]
> 项目名称: [用户输入的项目名称]

## 📋 简介

建筑施工文档助手是一款专为建筑施工行业设计的 Claude Code 插件,帮助您高效地管理、分析和整理项目文档。

### 核心特性

- ✅ **非侵入式**: 只读访问原文档,零风险
- ✅ **智能化**: AI 驱动的文档理解和分析
- ✅ **标准化**: 符合建筑行业规范的输出格式

## 🚀 快速开始

### 1. 生成文档索引

```bash
/construction-index
```

扫描您的原文档目录,生成结构化索引,帮助您快速了解文档全貌。

### 2. 检查资料完整性

```bash
# 全面检查
/construction-check

# 专项检查
/construction-check 主体结构验收资料
```

对比应有资料与实际资料,识别缺失文档和问题。

### 3. 搜索文档内容

```bash
/construction-search 混凝土强度
/construction-search 钢筋品牌
```

智能搜索关键信息,自动提取相关内容。

## 📖 完整命令列表

### 初始化配置
- `/construction-init` - 初始化项目配置(已完成 ✓)

### 文档分析
- `/construction-index` - 生成文档索引
- `/construction-check [范围]` - 检查资料完整性
- `/construction-search <关键词>` - 搜索文档内容

### 方案生成
- `/construction-organize <资料类型>` - 生成整理方案
- `/construction-summary [范围]` - 生成项目总结
- `/construction-progress` - 分析项目进度

### 帮助支持
- `/construction-help` - 显示完整帮助信息

## 💡 使用示例

### 示例 1: 检查主体结构验收资料

```bash
/construction-check 主体结构验收资料
```

助手会:
1. 扫描原文档目录
2. 建立应有资料清单
3. 对比实际资料
4. 生成检查报告(保存在 `生成文件/分析报告/`)
5. 按优先级列出缺失和问题

### 示例 2: 生成质量验收资料整理方案

```bash
/construction-organize 质量验收资料
```

助手会:
1. 分析当前文档组织方式
2. 生成推荐的分类结构
3. 提供详细整理清单
4. 评估工作量
5. 保存方案到 `生成文件/整理方案/`

### 示例 3: 生成项目总结报告

```bash
# 整体总结
/construction-summary

# 时期总结
/construction-summary 第一季度

# 阶段总结
/construction-summary 主体施工阶段
```

助手会:
1. 读取相关文档
2. 提取关键信息
3. 生成专业报告
4. 标注信息来源
5. 保存到 `生成文件/项目总结/`

## 📁 目录结构

```
项目根目录/
├── .claude/
│   └── CLAUDE-construction.md      # 项目配置文件
├── 生成文件/                        # 所有输出内容
│   ├── 索引/                        # 文档索引
│   ├── 分析报告/                    # 完整性检查报告
│   ├── 整理方案/                    # 整理方案
│   └── 项目总结/                    # 项目总结报告
└── 建筑施工文档助手使用说明.md      # 本文件

原文档目录/                          # 您指定的位置(只读)
└── [您的原始建筑文档]
```

## ⚠️ 重要提示

### 关于原文档目录

- ✅ 助手只会**只读访问**原文档目录
- ✅ **不会修改、移动或删除**任何原始文件
- ✅ 所有生成内容都保存在独立的 `生成文件/` 目录

### 关于生成的报告

- ⚠️ 生成的分析报告和建议**仅供参考**
- ⚠️ 关键信息请人工验证,特别是涉及工程质量和安全的内容
- ⚠️ 生成的文件可能包含项目敏感信息,请妥善保管

### 使用建议

1. **定期生成索引**: 建议每周运行一次 `/construction-index` 更新文档索引
2. **阶段性检查**: 在重要节点(如验收前)运行 `/construction-check` 检查资料完整性
3. **保留历史记录**: 所有生成的文件都包含时间戳,建议保留以便追溯

## 🔧 配置管理

### 查看当前配置

查看 `.claude/CLAUDE-construction.md` 文件

### 修改配置

直接编辑 `.claude/CLAUDE-construction.md` 文件,修改:
- 项目基本信息
- 原文档目录路径
- 项目特定信息
- 当前工作重点

### 重新初始化

如需重新配置项目,可再次运行 `/construction-init`

## 📞 获取帮助

- 运行 `/construction-help` 查看完整帮助
- 查看命令说明: 每个命令都有详细的使用说明
- 项目仓库: https://github.com/z1w2r3/construction-marketplace

## 📝 建筑行业知识参考

### 常见文档类型

- **质量验收资料**: 检验批、分项/分部验收记录
- **安全管理资料**: 安全检查记录、安全教育记录、应急预案
- **技术资料**: 施工方案、技术交底、图纸会审
- **材料资料**: 合格证、试验报告、进场验收记录
- **竣工资料**: 竣工图、质量保证资料、功能性试验记录

### 相关规范

- 《建设工程文件归档规范》GB/T 50328-2014
- 《建筑工程施工质量验收统一标准》GB 50300-2013

---

**版本**: v1.0.0
**更新日期**: [当前日期]
````

### 5. 显示完成信息

输出以下格式化信息:

```
✅ 建筑施工项目初始化完成!

📁 已创建的目录和文件:
  ✓ .claude/CLAUDE-construction.md          项目配置文件
  ✓ 生成文件/索引/                           文档索引存放目录
  ✓ 生成文件/分析报告/                       分析报告存放目录
  ✓ 生成文件/整理方案/                       整理方案存放目录
  ✓ 生成文件/项目总结/                       项目总结存放目录
  ✓ 建筑施工文档助手使用说明.md              使用指南

📋 项目信息:
  - 项目名称: [用户输入的名称]
  - 项目类型: [类型]
  - 原文档目录: [路径]
  - 工程地点: [地点或"未填写"]

🚀 下一步操作建议:
  1. 运行 /construction-index 生成文档索引
  2. 运行 /construction-check 检查资料完整性
  3. 运行 /construction-help 查看所有可用命令
  4. 查看 建筑施工文档助手使用说明.md 了解详细使用方法

💡 提示:
  - 原文档目录为只读访问,不会修改您的原始文件
  - 所有生成内容都保存在 生成文件/ 目录中
  - 配置文件位置: .claude/CLAUDE-construction.md
```

## 注意事项

1. **路径处理**: 所有路径使用引号包裹,防止空格导致的问题
2. **输入验证**: 验证原文档路径的有效性,确保可以访问
3. **错误提示**: 如果路径无效,提供清晰的错误信息
4. **用户体验**: 保持交互友好,使用表情符号增强可读性
5. **时间格式**: 使用统一的时间格式(YYYY-MM-DD HH:MM:SS)
